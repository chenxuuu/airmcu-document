import{_ as c}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as a,o,c as i,a as n,b as s,d as t,w as u,e as l}from"./app-L4q_l0Kg.js";const d={},r=n("h2",{id:"简介",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#简介","aria-hidden":"true"},"#"),s(" 简介")],-1),k=n("p",null,"本章介绍使用arduino烧录Air001开发板控制其上3个LED灯闪烁",-1),v=n("h2",{id:"硬件准备",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#硬件准备","aria-hidden":"true"},"#"),s(" 硬件准备")],-1),_={class:"hint-container tip"},m=n("p",{class:"hint-container-title"},"提示",-1),h=n("code",null,"PB1",-1),b=n("code",null,"PB0",-1),f=n("code",null,"PB3",-1),P=n("br",null,null,-1),g={href:"https://wiki.luatos.com/chips/air001/board.html#pinout",target:"_blank",rel:"noopener noreferrer"},B=l(`<h2 id="软件部分" tabindex="-1"><a class="header-anchor" href="#软件部分" aria-hidden="true">#</a> 软件部分</h2><p>按前文下载Arduino IDE、安装Air MCU，并选择接口和Air001 Dev Chip</p><p>在<code>setup()</code>函数中，添加如下代码</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>PB_1<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>PB_0<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>PB_3<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这里，我们使用<code>pinMode</code>函数初始化<code>PB1</code>、<code>PB0</code>和<code>PB3</code>这三个GPIO，并且设置为<code>OUTPUT</code>输出模式。</p><p>接着，我们在<code>loop()</code>函数中添加剩下的代码</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_1<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_0<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_3<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_1<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_0<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_3<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们在这段代码中，使用<code>digitalWrite</code>函数来控制这三个GPIO的数出状态：</p><ul><li>首先将GPIO设置为<code>HIGH</code>——高电平。此时LED灯亮起</li><li>使用<code>delay(1000)</code>延时一秒</li><li>然后将GPIO设置为<code>LOW</code>——低电平。此时LED灯熄灭</li><li>使用<code>delay(1000)</code>延时一秒</li></ul><p>可以在开发板上观察到测试结果</p><h2 id="更进一步" tabindex="-1"><a class="header-anchor" href="#更进一步" aria-hidden="true">#</a> 更进一步</h2><p>在上面代码的基础上，我们可以将<code>loop()</code>函数更改为下面这样，可以实现三个灯依次被点亮的效果</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_3<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_1<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_1<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_0<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_0<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>PB_3<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13);function W(O,L){const p=a("RouterLink"),e=a("ExternalLinkIcon");return o(),i("div",null,[r,k,v,n("p",null,[s("按"),t(p,{to:"/tutorial-advanced/Air001_start.html"},{default:u(()=>[s("☁️ Air001开发板入门")]),_:1}),s("，将Air001和DAPLink调试器使用排针排母连接")]),n("div",_,[m,n("p",null,[s("在Air001开发板上，板载的三个LED灯，分别由"),h,s("、"),b,s("和"),f,s("三个GPIO控制"),P,s(" 具体可参考"),n("a",g,[s("Air001 开发板PinOut"),t(e)])])]),B])}const H=c(d,[["render",W],["__file","led.html.vue"]]);export{H as default};
