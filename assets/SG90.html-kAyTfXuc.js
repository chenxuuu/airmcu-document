import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o as c,c as o,a as s,b as n,d as i,w as l,e as a}from"./app-L4q_l0Kg.js";const u={},d=a('<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><p>本章介绍使用 Air001 开发板在 Arduino 平台上实现驱动舵机的方法。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>SG90舵机是一种位置（角度）伺服的驱动器，适用于需要角度不断变化并可以保持的控制系统。</p></div><h2 id="硬件准备" tabindex="-1"><a class="header-anchor" href="#硬件准备" aria-hidden="true">#</a> 硬件准备</h2>',4),r=s("code",null,"Air001",-1),k=s("code",null,"DAPLink调试器",-1),v=a(`<p>SG90舵机一个，air001开发板一块，接线示意如下：</p><table><thead><tr><th style="text-align:center;">SG90</th><th style="text-align:center;">air001</th></tr></thead><tbody><tr><td style="text-align:center;">棕色</td><td style="text-align:center;">GND</td></tr><tr><td style="text-align:center;">红色</td><td style="text-align:center;">3.3V</td></tr><tr><td style="text-align:center;">黄色</td><td style="text-align:center;">PWM</td></tr></tbody></table><div class="hint-container tip"><p class="hint-container-title">提示</p><p>你也可以使用其他可通过PWM控制的舵机型号。</p></div><h2 id="软件部分" tabindex="-1"><a class="header-anchor" href="#软件部分" aria-hidden="true">#</a> 软件部分</h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>Servo库为 AirMCU 软件包自带</p></div><p>代码如下</p><p>开头通过<code>#include</code>调用<code>Servo</code>包，并实例化对象<code>my_servo</code>，后续仅需调用<code>my_servo</code>对象即可启动舵机，</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Servo.h&gt;</span></span>

Servo my_servo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在<code>setup()</code>函数中设置<code>my_servo</code>使用引脚<code>PB_3</code>来输出PWM：</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  my_servo<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>PB_3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在<code>loop()</code>函数中添加如下代码：</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  my_servo<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  my_servo<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  my_servo<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  my_servo<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  my_servo<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用<code>write</code>方法，设置舵机旋转。其中变量即为旋转角度。</li><li>使用<code>delay</code>函数延时1秒。</li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><p><code>write</code>方法中传入的变量为绝对角度。<br> 本例中观察到的现象应为：顺时针旋转90°两次、再逆时针旋转90°两次。</p></div><h2 id="输出结果" tabindex="-1"><a class="header-anchor" href="#输出结果" aria-hidden="true">#</a> 输出结果</h2><p>舵机旋转</p>`,16);function m(h,b){const t=p("RouterLink");return c(),o("div",null,[d,s("p",null,[n("按"),i(t,{to:"/tutorial-advanced/Air001_start.html"},{default:l(()=>[n("☁️ Air001开发板入门")]),_:1}),n("，将"),r,n("和"),k,n("使用排针排母连接。")]),v])}const f=e(u,[["render",m],["__file","SG90.html.vue"]]);export{f as default};
