import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as c,o as i,c as l,a as s,b as n,d as e,w as d,e as a}from"./app-L4q_l0Kg.js";const r="/assets/im1-gOCujgUj.png",u="/assets/im2-AxRgg4Oi.png",k="/assets/im3-5xr3mcbn.png",m={},v=a('<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><p>本文将介绍使用 Air001 开发板驱动<code>TM1637</code>四位数码管模块。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>TM1637</code>LED数码管驱动芯片，是一种带键盘扫描接口的LED数码管驱动控制专用电路。</p></div><h2 id="硬件准备" tabindex="-1"><a class="header-anchor" href="#硬件准备" aria-hidden="true">#</a> 硬件准备</h2>',4),h=s("code",null,"Air001",-1),g=s("code",null,"DAPLink调试器",-1),_=a('<p>将<code>TM1637LED数码管驱动模块</code>与<code>Air001开发板</code>，按如下表格进行相连：</p><table><thead><tr><th style="text-align:center;">TM1637</th><th style="text-align:center;">Air001</th></tr></thead><tbody><tr><td style="text-align:center;">CLK</td><td style="text-align:center;">PA14</td></tr><tr><td style="text-align:center;">DIO</td><td style="text-align:center;">PA13</td></tr><tr><td style="text-align:center;">VCC</td><td style="text-align:center;">VBUS(5V)</td></tr><tr><td style="text-align:center;">GND</td><td style="text-align:center;">GND</td></tr></tbody></table><h2 id="软件部分" tabindex="-1"><a class="header-anchor" href="#软件部分" aria-hidden="true">#</a> 软件部分</h2>',3),b={href:"https://github.com/Seeed-Studio/Grove_4Digital_Display",target:"_blank",rel:"noopener noreferrer"},f={class:"hint-container details"},y=s("summary",null,"将库添加到Arduino IDE中",-1),x={href:"https://github.com/Seeed-Studio/Grove_4Digital_Display/archive/master.zip",target:"_blank",rel:"noopener noreferrer"},D=a('<p>点击Arduino IDE上方菜单的<code>项目</code>选项。</p><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>点击菜单中的<code>导入库&gt;</code>。</p><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>点击<code>添加.ZIP库…</code>。</p><figure><img src="'+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>选择之前下载的zip压缩文件，即可完成添加库。</p>',7),A=a(`<p>开头添加如下代码。</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;TM1637.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CLK</span> <span class="token expression">PA_14</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DIO</span> <span class="token expression">PA_13</span></span>
<span class="token keyword">int</span> i<span class="token punctuation">;</span>
TM1637 <span class="token function">tm1637</span><span class="token punctuation">(</span>CLK<span class="token punctuation">,</span> DIO<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>首先通过<code>#include</code>调用下载的<code>TM1637.h</code>软件包。</li><li>定义<code>CLK</code>和<code>DIO</code>的值，按照之前的接线方法，为Air001开发板上的对应pin脚<code>PA_14</code>和<code>PA_13</code>。</li><li>初始化对象<code>tm1637</code>，传入刚刚定义的<code>CLK</code>和<code>DIO</code>，后续仅需调用<code>tm1637</code>对象即可操作数码管。</li></ol><p>在<code>setup()</code>函数中添加如下代码进行初始化操作。</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    tm1637<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tm1637<span class="token punctuation">.</span><span class="token function">point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tm1637<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>我们用<code>init</code>方法初始化<code>tm1637</code>。</li><li>用<code>point</code>方法控制四位数码管中间的冒号显示，并设置为1为打开（若设置为0则关闭）。</li><li>用<code>set</code>方法来调节数码管亮度，有<code>0~7</code>七个亮度等级，数字越大越亮。</li></ol><p>最后在<code>loop()</code>函数中添加代码。</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    tm1637<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tm1637<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tm1637<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tm1637<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>用<code>display</code>方法，来更改某一位显示的值。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>位数从0开始，即第一位为0，第二位为1，依此类推。</p></div><h2 id="输出结果" tabindex="-1"><a class="header-anchor" href="#输出结果" aria-hidden="true">#</a> 输出结果</h2><p>可观察到四位数码管显示<code>12:34</code>。</p>`,12);function L(I,C){const o=c("RouterLink"),t=c("ExternalLinkIcon");return i(),l("div",null,[v,s("p",null,[n("按"),e(o,{to:"/tutorial-advanced/Air001_start.html"},{default:d(()=>[n("☁️ Air001开发板入门")]),_:1}),n("，将"),h,n("和"),g,n("使用排针排母连接。")]),_,s("p",null,[n("我们需要使用"),s("a",b,[n("Grove_4Digital_Display"),e(t)]),n("库来驱动数码管模块，导入这个包到Arduino IDE中。")]),s("details",f,[y,s("p",null,[n("首先下载"),s("a",x,[n("Grove_4Digital_Display的ZIP包"),e(t)]),n("到本地目录。")]),D]),A])}const E=p(m,[["render",L],["__file","TM1637.html.vue"]]);export{E as default};
